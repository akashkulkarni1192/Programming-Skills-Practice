import java.net.UnknownHostException;

import com.mongodb.BasicDBObject;
import com.mongodb.DB;
import com.mongodb.DBCollection;
import com.mongodb.DBCursor;
import com.mongodb.MongoClient;


public class ServerClass {
	static MongoClient server ;
	static DB db;
	public ServerClass(){
		try {
			server = new MongoClient( "localhost" , 27017 );
			db = server.getDB( "FinalYearDB" );
			
			System.out.println("Server connected to Database");
		} catch (UnknownHostException e) {
			e.printStackTrace();
		}
		
	}
	public void checkAuthentication(String uname, String passwd) {
		 DBCollection coll = db.getCollection("userProfile");
		 BasicDBObject query = new BasicDBObject("_id",uname);
		 DBCursor cursor = coll.find(query);
		 if(cursor.hasNext()){
			 System.out.println("Login Successful...Enjoy the Dive");
			 BasicDBObject userLoggedIn = (BasicDBObject) cursor.next();
			 System.out.println("Name : "+userLoggedIn.get("givenName")+"\nAddress : "+userLoggedIn.getString("address"));
		 }else{
			 System.out.println("Wear Diving Suit Correctly");
		 }
		
	}
	public void createUserProfile() {
		
		
	}

}
